<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WireGuard VPN сервер за 10 минут — M.Tech Core</title>
  <link rel="stylesheet" href="../style.css">
  <!-- Подсветка кода (по желанию) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body class="article-page">
  <header class="header">
    <div class="container header-inner">
      <div class="logo">
        <img src="../img/logo.png" alt="M.Tech Core" class="logo-img">
        <h1><a href="../">M.Tech Core</a></h1>
      </div>
      <button id="theme-toggle">Тема</button>
    </div>
  </header>

  <main class="container">
    <article class="article">
      <h1>WireGuard VPN сервер за 10 минут</h1>
      <p class="meta">15 ноября 2025 • #linux #vpn #сервер</p>

      <p>Самый быстрый и простой современный VPN. Установка на Ubuntu/Debian за 10 минут.</p>

      <h2>Установка</h2>
      <pre><code class="language-bash">sudo apt update
sudo apt install wireguard -y</code></pre>

      <h2>Генерация ключей</h2>
      <pre><code class="language-bash">wg genkey | tee private.key | wg pubkey > public.key
chmod 600 private.key</code></pre>

      <h2>Конфиг сервера</h2>
      <p>Создаём файл <code>/etc/wireguard/wg0.conf</code>:</p>
      <pre><code class="language-ini">[Interface]
Address = 10.0.0.1/24
PrivateKey = &lt;СЕРВЕРНЫЙ ПРИВАТНЫЙ КЛЮЧ&gt;
ListenPort = 51820

PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
PublicKey = &lt;КЛЮЧ КЛИЕНТА&gt;
AllowedIPs = 10.0.0.2/32</code></pre>

      <h2>Запуск</h2>
      <pre><code class="language-bash">sudo wg-quick up wg0
sudo systemctl enable wg-quick@wg0</code></pre>

      <p>Готово! Теперь у тебя свой защищённый VPN-сервер</p>

      <div class="tip">
        <strong>Совет:</strong> Для мобильных клиентов используй QR-код:
        <pre><code class="language-bash">qrencode -t ansiutf8 &lt; client.conf</code></pre>
      </div>
    </article>
  </main>

  <script>
    // Подсветка кода (если используешь highlight.js)
    document.querySelectorAll('pre code').forEach(block => {
      hljs.highlightElement(block);
    });

    // Переключение темы (из общего script.js)
    document.getElementById('theme-toggle')?.addEventListener('click', () => {
      document.body.classList.toggle('light');
      localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
    });
    if (localStorage.getItem('theme') === 'light') document.body.classList.add('light');
  </script>
  <script src="../script.js"></script>
</body>
</html>
